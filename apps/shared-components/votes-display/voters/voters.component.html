<div>
  <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
  <nb-list>
    <nb-list-item *ngFor="let voter of voters" class="com-p-0 com-m-0">
      <app-user-profile-mini [size]="'small'" [user]="voter" [designation]="true"></app-user-profile-mini>
    </nb-list-item>
  </nb-list>

  <div class="load-more-button" *ngIf="total && voters.length < total">
    <button nbButton size="tiny" status="primary" outline (click)="openWindow()">View all</button>
  </div>
</div>

<ng-template #votersList let-data let-ref="dialogRef">
  <nb-card class="users-list">
    <nb-card-header>
      <div>Voters List</div>
      <button ghost nbButton size="small" (click)="ref.close()">
        <nb-icon icon="close"></nb-icon></button
    ></nb-card-header>
    <nb-card-body>
      <div *ngFor="let voter of voters" class="users">
        <app-user-profile-card-medium [user]="voter"></app-user-profile-card-medium>
      </div>

      <div class="load-more-button" *ngIf="total && voters.length < total">
        <button nbButton size="tiny" status="primary" outline (click)="getVoters()">Load More</button>
      </div>
    </nb-card-body>
  </nb-card>
</ng-template>
