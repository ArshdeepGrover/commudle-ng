<nb-card>
  <nb-card-body>
    <div class="com-flex com-justify-end">
      <button nbButton ghost (click)="closeStepper()" class="!com-p-2 com-mb-3">
        <nb-icon icon="close"></nb-icon>
      </button>
    </div>
    <nb-stepper orientation="horizontal" disableStepNavigation class="user-profile-completion-stepper">
      <nb-step [label]="stepOne">
        <ng-template #stepOne>
          <label class="step-one-heading">Username & Skills</label>
        </ng-template>
        <div class="content">
          <app-username (usernameValidation)="checkUsername($event)" [showSaveButton]="false"></app-username>
          <div>
            <div class="com-text-base com-pb-4">
              Add your skills
              <span class="com-text-sm com-text-primary-500">
                (Add atleast 5 skills to make your profile strong & approachable for Developers and Employers)
              </span>
            </div>
            <nb-tag-list (tagRemove)="onTagRemove($event)">
              <nb-tag *ngFor="let tag of tagsDialog" [text]="tag" removable></nb-tag>
              <input
                (tagAdd)="onTagAdd($event)"
                [separatorKeys]="[13, 188]"
                (keypress)="restrictComma($event)"
                fullWidth
                fieldSize="large"
                nbTagInput
                placeholder="Type a tag and press enter or comma"
                type="text"
              />
            </nb-tag-list>
            <div class="com-py-4">
              <nb-tag-list>
                <nb-tag
                  appearance="outline"
                  *ngFor="let tag of existingTags"
                  [text]="tag"
                  status="primary"
                  (click)="addTag(tag)"
                >
                </nb-tag>
              </nb-tag-list>
            </div>
          </div>
          <div class="info">
            <div>
              <fa-icon [icon]="faGlobe"></fa-icon>
              <p>Build a strong network</p>
              <span>Build a strong network of techies with same skills & grow together</span>
            </div>
            <div>
              <fa-icon [icon]="faUser"></fa-icon>
              <p>Build your unique profile</p>
              <span>Make your profile stand out by adding your projects and tutorials</span>
            </div>
            <div>
              <fa-icon [icon]="faComments"></fa-icon>
              <p>Join communities</p>
              <span>Find your relevant communities to join and share your knowledge </span>
            </div>
            <div>
              <fa-icon [icon]="faUsersViewfinder"></fa-icon>
              <p>Find your dream job</p>
              <span>Get discovered by employers or find jobs matching to your skills</span>
            </div>
          </div>
        </div>
        <div class="navigation-buttons next-button-only">
          <button
            [disabled]="!validUsername || tagsDialog.length <= 4"
            nbButton
            nbStepperNext
            status="primary"
            shape="semi-round"
            (click)="submitStepOne()"
          >
            Next
          </button>
        </div>
      </nb-step>

      <nb-step [label]="stepTwo">
        <ng-template #stepTwo>
          <label>Basic profile</label>
        </ng-template>
        <div class="content">
          <app-basic-info (basicInfoFormValidity)="checkBasicDetailsValidity($event)"></app-basic-info>
        </div>
        <div class="navigation-buttons both-buttons">
          <button nbButton nbStepperPrevious status="basic">Prev</button>
          <button
            [disabled]="!validBasicDetailsStatus"
            nbButton
            nbStepperNext
            status="success"
            (click)="submitStepTwo()"
          >
            Next
          </button>
        </div>
      </nb-step>

      <nb-step [label]="stepThree">
        <ng-template #stepThree>
          <label>Social Links</label>
        </ng-template>
        <div class="content">
          <app-social-links (socialLinksFormValidity)="checkSocialLinksValidity($event)"></app-social-links>
        </div>
        <div class="navigation-buttons both-buttons">
          <button nbButton nbStepperPrevious status="basic">Prev</button>
          <button
            [disabled]="!validSocialLinksStatus"
            nbButton
            nbStepperNext
            status="success"
            (click)="submitStepThree()"
          >
            Next
          </button>
        </div>
      </nb-step>

      <nb-step [hidden]="true">
        <div class="content">
          <h3 class="text-center">Thank you for completing your profile!</h3>
          <img
            alt="Completed"
            src="https://json.commudle.com/rails/active_storage/blobs/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBcGNaIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--33ad326a4cad4e6d33e037188dd68e9ccedc0ee5/userflow-done.gif"
            title="Completed"
            class="completed-gif"
          />
        </div>
        <div class="navigation-buttons next-button-only">
          <button nbButton status="success" (click)="closeStepper()">Close</button>
        </div>
      </nb-step>
    </nb-stepper>
  </nb-card-body>
</nb-card>
