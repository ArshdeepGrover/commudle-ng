<nb-card [nbSpinner]="eventLoader">
  <nb-card-body>
    <div class="events">
      <div *ngIf="upcomingEvents.length >= 1" class="com-mx-auto com-my-0">
        <p class="heading">Upcoming Events</p>
        <div class="com-flex com-flex-row com-flex-wrap">
          <a
            *ngFor="let event of upcomingEvents"
            [routerLink]="['/communities', event.kommunity_slug, 'events', event.slug]"
          >
            <div
              [ngClass]="{
                'd-flex flex-row com-w-50': upcomingEvents.length > 1,
                'd-flex flex-col com-w-100%': upcomingEvents.length === 1
              }"
              [ngStyle]="{ width: upcomingEvents.length === 1 ? '100%' : '50%' }"
            >
              <nb-card class="upcoming">
                <nb-card-body class="d-flex com-flex-col">
                  <div *ngIf="event.header_image_path" class="event-image-container">
                    <span>
                      <app-badge
                        *ngIf="moment(event.start_time) <= moment() && moment(event.end_time) >= moment()"
                        [color]="'rgb(255 45 45)'"
                        [text]="'Live'"
                      ></app-badge>
                    </span>
                    <div
                      class="event-background"
                      [ngStyle]="{ 'background-image': 'url(' + event.header_image_path + ')' }"
                    ></div>
                    <img
                      alt="{{ event.name }}"
                      src="{{ event.header_image_path }}"
                      title="{{ event.name }}"
                      class="event-image-container"
                    />
                  </div>
                  <div class="com-w-full md:com-w-[390px] md:com-h-[230px] com-h-auto">
                    <nb-icon *ngIf="!event.header_image_path" icon="link" status="primary"></nb-icon>
                  </div>
                  <div class="upcoming-details">
                    <div class="com-flex com-justify-between">
                      <p class="event-name">{{ event.name }}</p>
                      <button
                        nbButton
                        status="none"
                        size="small"
                        class="com-mt-4 com-bg-transparent com-rounded-lg com-text-AuroMetalSaurus"
                      >
                        <!-- <fa-icon [icon]="faMapPin" class="com-p-9"></fa-icon> -->
                        <!-- "com-text-red-500 -->
                        <!-- <nb-icon icon="pin-outline" class="com-border-AuroMetalSaurus"></nb-icon> -->
                        {{ event.event_type }} Event
                      </button>
                    </div>
                    <p class="timing">{{ moment(event.start_time).format('dddd, MMM Do, YYYY - h:mm a') }} onwards</p>
                    <div class="interested_members">
                      <div class="com-flex com-items-center">
                        <nb-icon icon="people-outline" class="com-bg-white com-text-black"></nb-icon>
                        <span>{{ event.interested_members_count }} Interested Members</span>
                      </div>
                      <div>
                        <p class="register">Register</p>
                      </div>
                    </div>
                  </div>
                </nb-card-body>
              </nb-card>
            </div>
          </a>
        </div>
      </div>

      <div *ngIf="pastEvents.length >= 1" class="past-events">
        <h3 class="heading">Past Events</h3>
        <div class="com-flex com-flex-row com-flex-wrap">
          <a
            *ngFor="let event of pastEvents"
            [routerLink]="['/communities', event.kommunity_slug, 'events', event.slug]"
          >
            <nb-card class="past">
              <nb-card-body>
                <div *ngIf="event.header_image_path" class="event-image-container-past">
                  <div
                    class="event-background-past"
                    [ngStyle]="{ 'background-image': 'url(' + event.header_image_path + ')' }"
                  ></div>
                  <img
                    alt="{{ event.name }}"
                    src="{{ event.header_image_path }}"
                    title="{{ event.name }}"
                    class="event-image-container-past"
                  />
                </div>
                <div *ngIf="!event.header_image_path" class="no-image-path">
                  <nb-icon icon="link" status="primary"></nb-icon>
                </div>
                <div class="past-details">
                  <span>
                    <p class="completed">
                      Completed
                      <nb-icon icon="checkmark-circle-2" nbTooltip="Completed" status="success"></nb-icon></p
                  ></span>
                  <p class="event-name">{{ event.name }}</p>
                  <p class="timings">{{ moment(event.start_time).format('dddd, MMM Do, YYYY') }}</p>
                  <a class="view-details">View Details</a>
                </div>
              </nb-card-body>
            </nb-card>
          </a>
        </div>
      </div>
    </div>
  </nb-card-body>
  <nb-card> </nb-card
></nb-card>
