<nb-card>
  <nb-card-body>
    <div
      *appBreakpoints="'>lg'"
      (scrolled)="getCommunities()"
      [infiniteScrollDisabled]="communities.length >= total"
      appInfiniteScroll
    >
      <div class="communities-cards">
        <div *ngFor="let community of communities" class="community-card">
          <commudle-featured-community-card-medium
            [community]="community"
            [showDescription]="true"
          ></commudle-featured-community-card-medium>
        </div>
      </div>
      <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
    </div>
    <div *appBreakpoints="'<=lg'">
      <div class="communities-cards">
        <div *ngFor="let community of communities" class="community-card">
          <commudle-featured-community-card-medium
            [community]="community"
            [showDescription]="true"
          ></commudle-featured-community-card-medium>
        </div>
      </div>
      <app-loading-spinner *ngIf="isLoading" class="com-mt-4"></app-loading-spinner>
      <button (click)="getCommunities()" *ngIf="pageInfo?.has_next_page" fullWidth ghost nbButton>
        Load More Communities
      </button>
    </div>
  </nb-card-body>
</nb-card>
