<nb-card>
  <nb-card-header (click)="togglePostContentDropdown()"
    ><h2>Post a content<fa-icon class="plus-icon" [icon]="faPlus"></fa-icon></h2>
    <!-- -->
  </nb-card-header>
  <!-- *ngIf="updates?.length > 0" -->
  <nb-card-body class="main-body">
    <nb-card *ngIf="isPostContentOpen" class="post-content">
      <nb-card-body>
        <div class="content-list">
          <a class="publish-build"
            ><button nbButton>
              <fa-icon class="icon" [icon]="faLightbulb"></fa-icon><span>Publish Project</span>
            </button></a
          >
          <a><button nbButton>2</button></a>
          <a><button nbButton>3</button></a>
          <a><button nbButton>4</button></a>
        </div>
      </nb-card-body>
    </nb-card>
    <div class="tabs">
      <button
        nbButton
        status="basic"
        [class.active]="activeTab === 'channel'"
        size="small"
        shape="round"
        (click)="setActiveTab('channel')"
      >
        Channel Updates
      </button>
      <button
        nbButton
        status="basic"
        size="small"
        shape="round"
        [class.active]="activeTab === 'registrations'"
        (click)="setActiveTab('registrations')"
      >
        Registrations
      </button>
    </div>
    <!-- class="container" -->
    <nb-card *ngIf="activeTab === 'registrations'" class="registrations">
      <nb-card-body>
        <h2 class="event-registration-heading">Your Registrations</h2>
        <div class="event-registrations">
          <div class="registration-grid">
            <div class="registration-header">
              <div class="table-heading">Name</div>
              <div class="table-heading">Type</div>
              <div class="table-heading">Your Status</div>
              <div class="table-heading">Action</div>
            </div>
            <div *ngFor="let registration of myRegistrations; let i = index" class="registration-row">
              <!-- <div class="registration"> -->
              <div class="event-title-date">
                <span class="event-title">
                  <fa-icon *ngIf="registration.registration_for === 'hackathon'" [icon]="faTrophy"></fa-icon
                  >{{ registration.event.name }}</span
                >
                <span class="date-desktop">{{ moment(registration.event.start_time).format('Do MMMM, YYYY') }}</span>
              </div>
              <div class="table-type">{{ registration.registration_for }}</div>
              <span class="date-mobile">{{ moment(registration.event.start_time).format('Do MMMM, YYYY') }}</span>
              <div
                [ngClass]="{
                  confirmed: ERegistrationStatuses.CONFIRMED === registration.registration_status,
                  registered: ERegistrationStatuses.REGISTERED === registration.registration_status,
                  waiting: ERegistrationStatuses.WAITING === registration.registration_status,
                  shortlisted: ERegistrationStatuses.SHORTLISTED === registration.registration_status,
                  cancelled: ERegistrationStatuses.CANCELLED === registration.registration_status
                }"
                class="table-status"
              >
                {{
                  registration.registration_for === 'hackathon' ? registration.status : registration.registration_status
                }}
                <span *ngIf="registration.registration_for === 'hackathon'" class="individual-status"
                  >Application Incomplete</span
                >
              </div>
              <div>
                <button
                  *ngIf="registration.entry_pass"
                  nbButton
                  status="primary"
                  shape="round"
                  size="tiny"
                  (click)="toggleEntryPass(i, registration.entry_pass.unique_code)"
                >
                  View Pass
                </button>
              </div>
              <!-- </div>  -->
              <!-- <table>
            <tr>
              <td class="table-heading">Name</td>
              <td class="table-heading">Type</td>
              <td class="table-heading">Your Status</td>
              <td class="table-heading">Action</td>
            </tr>
            <tr *ngFor="let registration of myRegistrations; let i = index" class="registration-data">
              <td class="event-title-date">
                <span class="event-title">{{ registration.event.name }}</span>
                <span class="date">{{ moment(registration.event.start_time).format('Do MMMM, YYYY') }}</span>
              </td>
              <td class="table-type">{{ registration.registration_for }}</td>
              <td
                [ngClass]="{
                  confirmed: ERegistrationStatuses.CONFIRMED === registration.registration_status,
                  registered: ERegistrationStatuses.REGISTERED === registration.registration_status,
                  waiting: ERegistrationStatuses.WAITING === registration.registration_status,
                  shortlisted: ERegistrationStatuses.SHORTLISTED === registration.registration_status,
                  cancelled: ERegistrationStatuses.CANCELLED === registration.registration_status
                }"
                class="table-status"
              >
                {{ registration.registration_status }}
              </td>
              <td>
                <button
                  *ngIf="registration.entry_pass"
                  nbButton
                  status="primary"
                  shape="round"
                  size="tiny"
                  (click)="toggleEntryPass(i, registration.entry_pass.unique_code)"
                >
                  View Pass
                </button>
              </td>
            </tr>
          </table> -->
            </div>
            <a class="view-all" nbButton routerLink="registrations" shape="semi-round" status="info" size="tiny">
              View all
              <nb-icon icon="arrow-forward"></nb-icon>
            </a>
          </div>
          <div *ngFor="let registration of myRegistrations; let i = index">
            <div *ngIf="showEntryPass[i]" class="qr-code">
              <nb-card>
                <nb-card-body>
                  <canvas #qrCanvas></canvas>
                  <p>{{ registration.event.name }}</p>
                  <!-- <img [src]="'https://quickchart.io/qr?text=' + registration.entry_pass.unique_code" /> -->
                </nb-card-body>
              </nb-card>
            </div>
          </div>
        </div>
        <!-- *ngIf="showEntryPass[i]" 
        <div class="qr-code">
          <nb-card>
            <nb-card-body>
              <canvas #qrCanvas></canvas>
              <img [src]="'https://quickchart.io/qr?text=137228'" />
            </nb-card-body>
          </nb-card>
        </div> -->
      </nb-card-body>
    </nb-card>
    <nb-card class="channel-updates" *ngIf="activeTab === 'channel'">
      <nb-card-body>
        <div class="badge-and-messages">
          <!-- *ngIf="community" -->
          <div class="community-badge">
            <!-- <app-community-badge [community]="community" [size]="'small'"></app-community-badge> -->
          </div>
          <div class="channel-update">
            <div class="channel-name">
              <fa-icon></fa-icon>
              <h2>GDG New Delhi Designers</h2>
            </div>
            <div class="channel-new-messages">
              <fa-icon [icon]="faComments"></fa-icon>
              <h2>18+ messages</h2>
            </div>
          </div>
        </div>
      </nb-card-body>
    </nb-card>
  </nb-card-body>
</nb-card>
