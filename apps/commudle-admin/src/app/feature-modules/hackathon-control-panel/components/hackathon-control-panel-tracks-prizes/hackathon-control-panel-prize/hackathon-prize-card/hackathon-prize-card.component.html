<nb-card>
  <nb-card-body>
    <div class="track-details">
      <div>
        <p class="name">{{ hackathonPrize.name }}</p>
      </div>
      <div class="action-buttons">
        <button nbButton ghost status="primary" (click)="editPrize(hackathonPrize)">Edit</button>
        <button nbButton ghost status="danger" (click)="deletePrize(hackathonPrize.id)">Delete</button>
      </div>
    </div>
    <div class="prize-details">
      <div *ngIf="hackathonPrize.hackathon_track" class="track-name">{{ hackathonPrize.hackathon_track.name }}</div>
      <p class="prize">
        {{ this.prizeCurrencySymbol?.symbol }}{{ hackathonPrize.prize_amount }}, {{ hackathonPrize.no_of_winners }}
        {{ hackathonPrize.no_of_winners === 1 ? 'Winner' : 'Winners' }}
      </p>
      <div class="description" [innerHTML]="hackathonPrize.description"></div>
    </div>
    <div>
      <button nbButton fullWidth status="primary" (click)="openPrizeDistributionDialogBox(prizeDistributionDialogBox)">
        Add Winners
      </button>
    </div>
  </nb-card-body>
</nb-card>

<ng-template #prizeDistributionDialogBox let-ref="dialogRef" let-data>
  <nb-card class="prize-distribution-dialog-box">
    <nb-card-header>
      <span> {{ hackathonPrize.name }}{{ this.prizeCurrencySymbol?.symbol }}{{ hackathonPrize.prize_amount }} </span>
      <button nbButton ghost shape="round" (click)="ref.close()">X</button>
    </nb-card-header>
    <nb-card-body>
      <table>
        <tr>
          <th>Team Name</th>
          <th>Round</th>
          <th>Build/ Project Name</th>
        </tr>
        <tr *ngFor="let userResponse of hackathonUserResponses">
          <td>{{ userResponse.team.name }}</td>
          <td>{{ userResponse.team.round?.name }}</td>
          <td>{{ userResponse.team.community_build?.name }}</td>
        </tr>
      </table>
    </nb-card-body>
  </nb-card>
</ng-template>
