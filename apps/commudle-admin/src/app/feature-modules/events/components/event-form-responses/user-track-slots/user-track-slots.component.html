<div>
  <nb-list *ngIf="trackSlots" class="com-p-0">
    <nb-list-item *ngFor="let trackSlot of trackSlots; let i = index" class="com-flex com-flex-col">
      <div class="com-text-base com-font-semibold">{{ trackSlot.event_location_track_name }}</div>
      <div class="com-flex">
        <div class="session-time">
          <p>{{ moment(trackSlot.start_time).format('HH:mm') }}</p>
          <p>{{ moment(trackSlot.end_time).format('HH:mm') }}</p>
        </div>
        <div class="session-details">
          <div class="session-title">
            <div *ngIf="trackSlot.tags_list" class="tag-badge">
              <app-badge
                *ngFor="let tag of trackSlot.tags_list.split(' ')"
                [fontSize]="'small'"
                [text]="tag"
                [color]="'com-bg-primary-400'"
                [fontColor]="'com-text-white'"
              ></app-badge>
            </div>
            <p>{{ trackSlot.session_title }}</p>
            <div *ngIf="trackSlot.track_slot_speakers" class="session-speaker">
              <div *ngFor="let slot of trackSlot.track_slot_speakers">
                <app-user-profile-card-small [user]="slot.user"></app-user-profile-card-small>
              </div>
            </div>
          </div>
          <div class="links">
            <div *ngIf="event.editable" class="session-links">
              <a
                *ngIf="!trackSlot.speaker_resource"
                [queryParams]="{ token: trackSlot.rsvp_token, event_id: event.slug }"
                [routerLink]="['/speaker-resource-form']"
                class="add-session"
                target="_blank"
              >
                Add session slides
                <nb-icon icon="clipboard-outline"></nb-icon>
              </a>
              <a
                *ngIf="trackSlot.speaker_resource"
                [queryParams]="{ token: trackSlot.rsvp_token, event_id: event.slug }"
                [routerLink]="['/speaker-resource-form']"
                class="edit-session"
                target="_blank"
              >
                <span>Edit Session Details/Slides</span>
                <nb-icon icon="clipboard-outline"></nb-icon>
              </a>
            </div>
            <p class="public-session">
              <small>
                <a
                  [queryParams]="{ track_slot_id: trackSlot.id }"
                  [routerLink]="['/communities', community.slug, 'events', event.slug, 'session']"
                  target="_blank"
                >
                  Public Session Page
                  <nb-icon icon="external-link"></nb-icon>
                </a>
              </small>
            </p>
          </div>
        </div>
        <div *ngIf="event.editable">
          <nb-icon icon="edit-outline" (click)="editTrackSlot(trackSlot, i)" class="edit-outline"></nb-icon>
        </div>
        &nbsp;
        <!--<div *ngIf="event.editable">
        <nb-icon
          icon="trash-outline"
          (click)="confirmDeleteSlot(slot); $event.stopPropagation()"
          status="danger"
          class="close-circle-outline"
        ></nb-icon>
      </div> -->
      </div>
    </nb-list-item>
  </nb-list>

  <!-- <button (click)="editTrackSlot(trackSlot)">edit</button> -->
</div>

<div *ngIf="trackSlots.length === 0">
  <p>No Track Slot Selected Yet</p>
  <button nbButton (click)="showAddSlotForm()">add</button>
</div>
