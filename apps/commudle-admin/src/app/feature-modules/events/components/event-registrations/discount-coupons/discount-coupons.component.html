<button nbButton status="info" (click)="open(dialog)">Create Discount Coupon</button>

<div *ngFor="let discountCode of discountCodes">
  <div>{{ discountCode.code }}</div>
</div>

<ng-template #dialog let-data let-ref="dialogRef">
  <nb-card class="com-h-[80dvh] com-w-full">
    <nb-card-header>
      <div class="com-flex com-justify-between">
        <div>Create Discount Coupon</div>

        <button (click)="ref.close()" ghost nbButton shape="round" size="small">
          <nb-icon icon="close"></nb-icon>
        </button>
      </div>
    </nb-card-header>
    <nb-card-body>
      <form [formGroup]="discountCouponForm" class="com-flex com-flex-col com-space-y-3">
        <div formGroupName="discount_code">
          <!-- Name -->
          <label>
            Name*
            <input formControlName="code" fullWidth nbInput type="text" placeholder="Coupon Name" />
          </label>

          <!-- Discount type* -->
          <label class="com-col-span-1">
            Discount type*
            <nb-select formControlName="discount_type" fullWidth>
              <nb-option value="percent"> Percentage </nb-option>
              <nb-option value="percent"> Percentage </nb-option>
            </nb-select>
          </label>

          <!-- Is Limited* -->
          <label class="com-col-span-1">
            Is Limited*
            <nb-select formControlName="is_limited" fullWidth>
              <nb-option value="true"> Yes </nb-option>
              <nb-option value="false"> No </nb-option>
            </nb-select>
          </label>

          <!-- Discount value* -->
          <label class="com-col-span-1">
            Discount value*
            <input formControlName="discount_value" fullWidth nbInput type="number" placeholder=" Discount value" />
          </label>

          <!-- Max Limit* -->
          <label class="com-col-span-1">
            Max Limit*
            <input formControlName="max_limit" nbInput fullWidth type="number" placeholder="Max Limit" />
          </label>

          <!-- Expires At* -->
          <label class="com-col-span-1">
            Expires At*
            <input formControlName="expires_at" fullWidth nbInput type="date" />
          </label>

          <!-- Event Data Form Entity Group Ids* -->
          <!-- <label class="com-col-span-1">
            Event Data Form Entity Group Ids*
            <select formControlName="event_data_form_entity_group_ids" fullWidth>
              <option *ngFor="let edfeg of eventDataFormEntityGroups" [value]="edfeg.id">{{ edfeg.name }}</option>
            </select>
          </label> -->
        </div>
      </form>
    </nb-card-body>
    <nb-card-footer>
      <div class="com-flex com-justify-between com-mx-4">
        <button nbButton status="primary" outline (click)="create()">Create</button>
        <button nbButton status="danger" outline (click)="ref.close()">Cancel</button>
      </div>
    </nb-card-footer>
  </nb-card>
</ng-template>
