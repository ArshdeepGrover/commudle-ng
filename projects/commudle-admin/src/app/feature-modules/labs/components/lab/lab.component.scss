@import './projects/commudle-admin/src/assets/styles/variables';

.lab {
  @apply com-w-full com-pt-9 com-pb-3;

  .body {
    @apply com-max-w-6xl com-my-0 com-mx-auto;

    nb-sidebar,
    .toggle-details {
      @apply com-hidden;
    }

    .content {
      @apply com-w-full;

      nb-card {
        @apply com-min-h-[80vh] com-border-none com-mt-0 com-mx-4 com-mb-4;

        nb-card-body {
          @apply com-p-16;

          .introduction {
            .lab-title {
              @apply com-text-[#2f2e41] com-text-4xl com-font-medium com-leading-[2.75rem] com-mt-0 com-mx-0 com-mb-5 com-capitalize;
            }

            .lab-detail {
              @apply com-mb-12;

              .user-profile {
                .avatar {
                  @apply com-rounded-[50%] com-h-6 com-overflow-hidden com-w-6;

                  img {
                    @apply com-w-full;
                  }
                }

                .details {
                  height: max-content;
                  width: max-content;
                  @apply com-italic;

                  p {
                    @apply com-text-sm com-text-[#979797] com-mt-0 com-mx-4 com-mb-2;
                  }

                  a,
                  a:hover,
                  a:focus,
                  a:active {
                    @apply com-no-underline;
                  }

                  .name {
                    @apply com-capitalize com-text-[#536eff];
                  }

                  .date {
                    font-style: normal;
                    @apply com-ml-1;
                  }

                  .expert-icon {
                    @apply com-h-3 com-ml-1 com-w-3;
                  }
                }
              }

              .tags {
                @apply com-ml-16;

                &::ng-deep {
                  .nb-tag-list-tags-wrapper {
                    nb-tag {
                      @apply com-border-0 com-rounded-[5px] com-bg-[#dae0ff] com-text-[#2f2e41] com-text-[10px] com-leading-3 com-lowercase com-py-1 com-px-3 com-font-normal;
                    }
                  }
                }
              }
            }

            @media all and (max-width: 768px) {
              .lab-detail {
                @apply com-flex-col;

                .user-profile {
                  @apply com-items-center;

                  .details {
                    @apply com-w-auto;
                  }
                }

                .tags {
                  @apply com-mt-4 com-mx-0 com-mb-0;
                }
              }
            }

            .header-image {
              img {
                @apply com-w-full;
              }
            }

            .intro-content {
              @apply com-w-full;

              ::ng-deep {
                img {
                  height: auto;
                  max-width: 100%;
                  @apply com-max-w-full com-h-auto;
                }

                code {
                  white-space: pre-wrap;
                }

                @for $index from 1 through 6 {
                  h#{$index} {
                    color: $gunmetal;
                  }
                }

                p,
                li {
                  color: $raisin-black;
                  @apply com-text-[1.1rem] com-leading-6;
                }
              }
            }
          }
        }

        nb-card-footer {
          @apply com-bg-[#eeeeff] com-border-0 com-pt-6 com-px-0 com-pb-0;
        }

        @media all and (max-width: 768px) {
          nb-card-body {
            @apply com-p-5;

            .introduction {
              .lab-title {
                font-size: 1.75rem;
                line-height: 1.75rem;
              }
            }
          }

          nb-card-footer {
            bottom: $space-64;
            padding: $space-8 0;
            position: sticky;
          }
        }
      }
    }

    .interactions {
      display: none;
      height: fit-content;
      margin-left: $space-16;
      position: sticky;
      top: 50vh;
      width: max-content;

      app-votes-display {
        direction: rtl;

        &::ng-deep {
          .votes {
            p {
              color: $neon-blue;
              font-size: 1.5rem;
            }

            span {
              nb-icon {
                font-size: 1.5rem;
                margin-right: $space-4;

                &:not(.voted-heart) {
                  color: $neon-blue;
                }
              }
            }
          }
        }
      }

      .discussion {
        color: $neon-blue;
        font-size: $fs-24;
        margin: $space-24 0 0;
      }

      nb-icon {
        color: $neon-blue;
        font-size: $fs-24;
      }

      app-share-button {
        ::ng-deep {
          .share-button-container {
            margin: $space-24 0 0;

            button {
              background-color: transparent !important;
            }
          }
        }
      }
    }

    @media (min-width: 768px) {
      .content {
        max-width: 744px;
      }

      .interactions {
        display: block;
      }
    }
  }

  .steps-navigation {
    button {
      background-color: $neon-blue;
      border-radius: $border-10;
      color: $white;
      font-size: $fs-18;
      font-weight: $fw-500;
      text-transform: capitalize;
    }
  }

  .lab-discussion {
    margin: $space-32 0 0;
    padding: 0 0 $space-64;
  }
}

@media all and (max-width: 768px) {
  .lab {
    padding: $space-16 0 0;

    .body {
      flex-direction: column;
      justify-content: normal;

      .toggle-details {
        background-color: $neon-blue;
        border-bottom-right-radius: $border-10;
        border-top-right-radius: $border-10;
        color: white;
        display: block;
        font-size: 2.25rem;
        left: 0;
        padding: $space-4;
        position: fixed;
        top: $space-96;
        z-index: 3;
      }

      .desktop-lab-details {
        &::ng-deep {
          .menu {
            height: initial;
            position: initial;
            top: initial;
            width: 100%;

            nb-card {
              width: initial;
            }

            .user {
              margin: 0 $space-16 $space-16;
            }
          }
        }
      }

      nb-sidebar.right.expanded {
        display: inherit;

        &::ng-deep {
          .main-container {
            backdrop-filter: blur(20px);
            height: calc(100vh - 3.5rem);
            padding: $space-16;
            right: 0;
            top: $space-56;
            width: 80vw;
            z-index: 3;

            .scrollable {
              padding: 0;

              app-lab-details {
                .menu {
                  height: initial;
                  position: initial;
                  top: initial;
                  width: 100%;

                  nb-card {
                    width: initial;
                  }

                  .user {
                    margin: 0 $space-16 $space-16;
                  }

                  .related-labs {
                    margin: $space-16 0 $space-56;
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

.image {
  @media screen and (min-width: $max-page-width) {
    @apply com-w-[70vw];
  }

  @media screen and (max-width: 768px) {
    @apply com-w-[80vw];
  }
}
