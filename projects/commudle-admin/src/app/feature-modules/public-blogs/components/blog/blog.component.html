<nb-card *ngIf="blog">
  <div class="com-mx-1 md:com-mx-96">
    <button nbButton routerLink="/blogs">
      <nb-icon icon="arrow-back-outline"></nb-icon>
      back
    </button>
    <nb-card-header>
      <h1 class="blog-title">{{ blog.title }}</h1>
      <p>{{ blog.publishedAt | date }}</p>
    </nb-card-header>
    <nb-card-body>
      <div>
        <div [routerLink]="['/users', blog.username]" class="profile">
          <div class="com-flex com-items-center com-pt-5 md:com-pt-10">
            <div>
              <img
                [alt]="user.name"
                [src]="user.photo.i64"
                class="com-h-16 com-w-16 com-rounded-full com-border-2 com-border-grey-70 com-shadow"
              />
            </div>
            <div class="com-pl-5">
              <span class="com-block com-font-body com-text-xl com-font-bold">{{ user.name }}</span>
              <span class="com-block com-text-xs">@{{ user.username }}</span>
              <span class="com-text-xs">{{ user.designation }}</span>
            </div>
          </div>
        </div>
        <img
          [alt]="blog.title"
          [src]="imageUrl(blog.headerImage).url()"
          class="com-h-80 com-w-full com-object-cover com-object-center"
        />
        <div [innerHTML]="richText" class="text"></div>
      </div>
    </nb-card-body>
  </div>
</nb-card>

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://www.commudle.com/blogs"
    },
    "headline": "{{blog.post}}",
    "description": " {{meta_description}} ",
    "image": "{{blog.headerImage}}",
    "author": {
      "@type": "Person",
      "name": "{{blog.username}}",
      "url": "https://www.commudle.com/users/{{blog.username}}"
    },
    "datePublished": "{{blog.publishedAt}}"
  }
</script>
